<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>four.gb with Projects</title>
<style>
body {margin:0; font-family:system-ui,sans-serif; display:flex; height:100vh; background:#0f0f0f; color:white; overflow:hidden;}
#sidebar {width:220px; background:#161616; padding:12px; display:flex; flex-direction:column; align-items:center;}
#sidebar h2 {text-align:center;margin:8px 0;}
#sidebar button {display:flex; align-items:center; gap:8px; margin:4px 0; padding:10px; border:none; border-radius:8px; background:#2a2a2a; color:white; cursor:pointer; width:90%;}
#sidebar button.active {background:#2e6cff;}
#sidebar button:hover {background:#444;}
#main {flex:1; display:flex; flex-direction:column;}
#topbar {height:48px; background:#121212; display:flex; align-items:center; justify-content:flex-end; gap:10px; padding:0 12px;}
#topbar button {background:#2a2a2a; border:none; border-radius:8px; color:white; padding:6px 10px; cursor:pointer;}
#messages {flex:1; padding:12px; overflow-y:auto; display:flex; flex-direction:column; gap:8px;}
.msg {max-width:80%; padding:10px 14px; border-radius:14px;}
.user {align-self:flex-end; background:#2e6cff;}
.ai {align-self:flex-start; background:#2a2a2a;}
.msg img {max-width:100%; border-radius:12px; margin-top:6px;}
.typing {font-size:28px; letter-spacing:6px; animation:blink 1.4s infinite;}
@keyframes blink {0% {opacity:.2;} 20% {opacity:1;} 100% {opacity:.2;}}
#input-area {display:flex; gap:8px; padding:10px; background:#111;}
#input {flex:1; padding:10px; border-radius:10px; border:none; background:#222; color:white;}
#send {width:44px; height:44px; border-radius:50%; border:none; background:#2e6cff; color:white; font-size:18px; cursor:pointer;}
.popup {position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#1e1e1e; padding:16px; border-radius:12px; display:none; width:280px; z-index:100;}
.popup button {width:100%; margin-top:8px;}
#projectsList {margin-top:12px; width:100%; display:flex; flex-direction:column; gap:4px; max-height:300px; overflow-y:auto;}
.projectBtn {background:#2a2a2a; border:none; border-radius:8px; color:white; padding:6px; cursor:pointer; text-align:left;}
.projectBtn.active {background:#2e6cff;}
</style>
</head>
<body>

<div id="sidebar">
<h2>four.gb</h2>
<button id="chatBtn" class="active" onclick="showChat()">üí¨ Chat</button>
<button id="imgBtn" onclick="showImages()">üñºÔ∏è Images</button>
<button onclick="clearChat()">üßπ Clear</button>
<button onclick="openProfile()">üë§ Profile</button>
<div style="margin-top:12px; width:90%;">
<button onclick="addProject()">‚ûï New Project</button>
<div id="projectsList"></div>
</div>
</div>

<div id="main">
<div id="topbar">
<button onclick="openShare()">üîó Share</button>
<button onclick="openPeople()">üë• Add</button>
</div>

<div id="messages"></div>

<div id="input-area">
<input id="input" placeholder="Ask anything‚Ä¶" />
<button id="send" onclick="send()">‚û§</button>
</div>
</div>

<script>
let messages = document.getElementById("messages");
let input = document.getElementById("input");
let projectsList = document.getElementById("projectsList");
let currentProject = null;
let projects = {};

function addMessage(content, who) {
  if(!currentProject) return alert("Select a project first!");
  const div = document.createElement("div");
  div.className = "msg "+who;
  div.textContent = content;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
  // Save in project
  projects[currentProject].messages.push({content, who});
}

function clearChat(){messages.innerHTML="";}
function showChat(){chatBtn.classList.add("active");imgBtn.classList.remove("active");clearChat();}
function showImages(){imgBtn.classList.add("active");chatBtn.classList.remove("active");clearChat();}

function addProject(){
  const name = prompt("Enter project name:");
  if(!name) return;
  if(projects[name]) return alert("Project already exists!");
  projects[name] = {messages: []};
  
  const btn = document.createElement("button");
  btn.className="projectBtn";
  btn.textContent = name;
  btn.onclick = ()=>{
    document.querySelectorAll(".projectBtn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    currentProject = name;
    loadProject(name);
  };
  projectsList.appendChild(btn);
  
  // Auto-select first project
  if(!currentProject){
    btn.click();
  }
}

function loadProject(name){
  messages.innerHTML="";
  projects[name].messages.forEach(m=>addMessage(m.content,m.who));
}

async function send(){
  if(!currentProject) return alert("Select a project first!");
  const text = input.value.trim();
  if(!text) return;
  input.value="";
  addMessage(text,"user");
  // Fake AI delay
  const typingDiv = document.createElement("div");
  typingDiv.className="msg ai typing";
  typingDiv.textContent="...";
  messages.appendChild(typingDiv);
  messages.scrollTop = messages.scrollHeight;
  setTimeout(()=>{
    typingDiv.remove();
    addMessage("Got it.","ai");
  },2000);
}
</script>

</body>
</html>
